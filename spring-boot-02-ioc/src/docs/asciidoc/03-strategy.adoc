=== 依赖查找
:iocSourceDir: ../../main/java/com/github/spring/boot/ioc/controller

场景:
用户登录需要获取短信验证码, 后台需要调用短信接口发送短信.

假设三个运营商接口均只能发送给自己的用户发送短信.

****
[source,subs="verbatim,attributes"]
----
if (type = 移动号码)              <!--1-->
    调用 移动提供的短信接口

if (type = 电信号码)              <!--2-->
    调用 电信提供的短信接口

if (type = 联调号码)              <!--3-->
    调用 联调提供的短信接口
----

<1> 移动号码 -> 移动提供的短信接口;
<2> 电信号码 -> 电信提供的短信接口;
<3> 联调号码 -> 联调提供的短信接口;

****

[IMPORTANT]
.缺点
====
. 每增加一种发送短信方式(虚拟运营商),就需要在原来的基础上修改,不符合开闭原则(软件设计原则);
. 核心业务只是发送短信,各种判断并不是核心业务,非业务代码稀释了业务代码;
====

image::sms.jpg[]

策略模式：该模式定义了一系列算法，并将每个算法封装起来，使它们可以相互替换，且算法的变化不会影响使用算法的客户。

****
[source,java]
----
include::{iocSourceDir}/StrategyController.java[lines=19..30]
----
****




